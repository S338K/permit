<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard UI</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet" href="../shared/theme.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
</head>

<body class="transition-colors duration-300">
  <nav
    class="fixed top-0 inset-x-0 z-30 h-16 flex items-center border-b border-[var(--button-border)] bg-[var(--navbar-bg)] text-navbar-text">
    <div class="flex items-center justify-between w-full">

      <button id="sidebar-hamburger"
        class="p-2 rounded-lg text-navbar-text h-full flex items-center justify-center icon-btn bg-transparent hover:bg-transparent focus:bg-transparent"
        aria-label="Toggle sidebar">
        <span class="sr-only">Toggle sidebar</span>
        <span class="hamburger-icon" aria-hidden="true">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </span>
      </button>


      <div class="flex items-center pl-2 shrink-0 w-24 sm:w-28 md:w-24 lg:w-32">
        <img id="nav-logo" src="../images/HIA_logo.png" alt="HIA Logo" class="h-10 w-auto hidden" aria-hidden="true" />
      </div>


      <div class="flex items-center space-x-2 md:space-x-4 ml-auto">
        <button id="announcement-button" type="button" title="Announcements" data-admin-only
          class="hidden h-9 w-9 md:h-10 md:w-10 flex items-center justify-center rounded-full text-navbar-text icon-btn hover-lite"
          aria-label="Manage announcements">
          <i class="fas fa-bullhorn text-xl md:text-2xl"></i>
        </button>

        <button id="theme-toggle" type="button" data-theme-toggle
          class="flex h-9 w-9 md:h-10 md:w-10 items-center justify-center rounded-full text-navbar-text icon-btn hover-lite"
          aria-label="Toggle theme">

          <i class="fas fa-sun icon-sun text-xl md:text-2xl"></i>
          <i class="fas fa-moon icon-moon text-xl md:text-2xl"></i>
        </button>


        <div class="relative" id="notification-container" data-role-visibility="Requester,PreApprover,Approver">
          <button id="notification-bell" type="button"
            class="relative h-9 w-9 md:h-10 md:w-10 flex items-center justify-center rounded-full text-navbar-text icon-btn hover-lite"
            aria-label="Notifications" aria-expanded="false" aria-haspopup="true">
            <i class="fas fa-bell text-xl md:text-2xl"></i>
            <span id="notification-badge"
              class="hidden absolute top-0 right-0 h-5 w-5 rounded-full bg-red-500 text-white text-xs font-bold flex items-center justify-center">0</span>
          </button>


          <div id="notification-dropdown"
            class="hidden absolute right-0 mt-2 w-80 md:w-96 max-h-[70vh] bg-[var(--bg-surface)] text-primary rounded-lg shadow-2xl border border-[var(--input-border)] overflow-hidden z-50">
            <div class="px-4 py-3 border-b border-[var(--input-border)] flex items-center justify-between">
              <h3 class="text-sm font-semibold text-primary">
                Notifications
              </h3>
              <button id="mark-all-read" type="button"
                class="text-xs text-primary opacity-70 hover:opacity-100 hover:underline">
                Mark all as read
              </button>
            </div>
            <div id="notification-list" class="overflow-y-auto max-h-96">

              <div class="px-4 py-8 text-center text-sm text-primary opacity-70" id="notification-empty">
                <i class="fas fa-bell-slash text-3xl mb-2 opacity-50"></i>
                <p>No notifications</p>
              </div>
            </div>
          </div>
        </div>

        <button type="button" data-logout-trigger
          class="h-9 w-9 md:h-10 md:w-10 flex items-center justify-center rounded-full text-red-500 icon-btn hover-lite"
          aria-label="Log out">
          <i class="fas fa-sign-out-alt text-xl md:text-2xl text-red-500"></i>
        </button>
      </div>
    </div>
  </nav>


  <div id="sidebar-overlay"></div>


  <aside id="desktop-sidebar"
    class="hidden md:block fixed left-0 top-16 h-[calc(100vh-64px)] w-[350px] border-r border-[var(--button-border)] shadow-2xl z-40 transform -translate-x-full transition-transform duration-300 rounded-tr-xl">
    <div class="p-4 space-y-4">
      <div class="rounded-lg border border-[var(--button-border)] bg-[var(--bg-surface)]">
        <button type="button"
          class="accordion-toggle flex w-full items-center justify-between px-4 py-3 text-left text-primary font-semibold"
          data-target="desktop-personal-section" aria-controls="desktop-personal-section" aria-expanded="false"
          data-accordion-group="desktop">
          <span>Personal Information</span>
          <span
            class="accordion-icon flex items-center justify-center transition-transform duration-300 text-[var(--text-primary)]/60">
            <i class="fas fa-chevron-down"></i>
          </span>
        </button>

        <div id="desktop-personal-section"
          class="accordion-content overflow-hidden transition-[max-height] duration-300 ease-in-out max-h-0">
          <div class="px-4 pb-4 pt-1 text-sm text-primary opacity-80">
            <div class="space-y-2">
              <div
                class="flex items-center gap-3 rounded-xl border border-[var(--button-border)] bg-[var(--bg-surface)] px-3 py-2 shadow-sm">
                <div
                  class="flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-200">
                  <i class="fas fa-id-card"></i>
                </div>
                <div class="min-w-0">
                  <p class="text-[11px] uppercase tracking-wide text-primary opacity-70">
                    Full Name
                  </p>
                  <p class="text-sm font-medium text-primary truncate" data-user-field="fullName" data-placeholder="">
                  </p>
                </div>
              </div>

              <div
                class="flex items-center gap-3 rounded-xl border border-[var(--button-border)] bg-[var(--bg-surface)] px-3 py-2 shadow-sm">
                <div
                  class="flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-200">
                  <i class="fas fa-envelope"></i>
                </div>
                <div class="min-w-0">
                  <p class="text-[11px] uppercase tracking-wide text-primary opacity-70">
                    Email
                  </p>
                  <p class="text-sm font-medium text-primary truncate" data-user-field="email" data-placeholder=""></p>
                </div>
              </div>

              <div
                class="flex items-center gap-3 rounded-xl border border-[var(--button-border)] bg-[var(--bg-surface)] px-3 py-2 shadow-sm">
                <div
                  class="flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-200">
                  <i class="fas fa-building"></i>
                </div>
                <div class="min-w-0">
                  <p class="text-[11px] uppercase tracking-wide text-primary opacity-70">
                    Company
                  </p>
                  <p class="text-sm font-medium text-primary truncate" data-user-field="company" data-placeholder="">
                  </p>
                </div>
              </div>

              <div
                class="flex items-center gap-3 rounded-xl border border-[var(--button-border)] bg-[var(--bg-surface)] px-3 py-2 shadow-sm">
                <div
                  class="flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-200">
                  <i class="fas fa-phone"></i>
                </div>
                <div class="min-w-0">
                  <p class="text-[11px] uppercase tracking-wide text-primary opacity-70">
                    Phone
                  </p>
                  <p class="text-sm font-medium text-primary truncate" data-user-field="phone" data-placeholder=""></p>
                </div>
              </div>

              <div
                class="flex items-center gap-3 rounded-xl border border-[var(--button-border)] bg-[var(--bg-surface)] px-3 py-2 shadow-sm">
                <div
                  class="flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-200">
                  <i class="fas fa-calendar-alt"></i>
                </div>
                <div class="min-w-0">
                  <p class="text-[11px] uppercase tracking-wide text-primary opacity-70">
                    Member Since
                  </p>
                  <p class="text-sm font-medium text-primary truncate" data-user-field="memberSince"
                    data-placeholder=""></p>
                </div>
              </div>

              <div
                class="flex items-center gap-3 rounded-xl border border-[var(--button-border)] bg-[var(--bg-surface)] px-3 py-2 shadow-sm">
                <div
                  class="flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-200">
                  <i class="fas fa-clock"></i>
                </div>
                <div class="min-w-0">
                  <p class="text-[11px] uppercase tracking-wide text-primary opacity-70">
                    Last Login
                  </p>
                  <p class="text-sm font-medium text-primary truncate" data-user-field="lastLogin" data-placeholder="">
                  </p>
                </div>
              </div>

              <div
                class="flex items-center gap-3 rounded-xl border border-[var(--button-border)] bg-[var(--bg-surface)] px-3 py-2 shadow-sm">
                <div
                  class="flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-200">
                  <i class="fas fa-globe"></i>
                </div>
                <div class="min-w-0">
                  <p class="text-[11px] uppercase tracking-wide text-primary opacity-70">
                    IP Address
                  </p>
                  <p class="text-sm font-medium text-primary truncate" data-user-field="ipAddress" data-placeholder="">
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="rounded-lg border border-[var(--button-border)] bg-[var(--bg-surface)]">
        <button type="button"
          class="accordion-toggle flex w-full items-center justify-between px-4 py-3 text-left text-primary font-semibold"
          data-target="desktop-actions-section" aria-controls="desktop-actions-section" aria-expanded="false"
          data-accordion-group="desktop">
          <span>Quick Actions</span>
          <span
            class="accordion-icon flex items-center justify-center transition-transform duration-300 text-primary opacity-60">
            <i class="fas fa-chevron-down"></i>
          </span>
        </button>

        <div id="desktop-actions-section"
          class="accordion-content overflow-hidden transition-[max-height] duration-300 ease-in-out max-h-0">
          <div class="px-4 pb-4 pt-1 space-y-2 text-sm text-primary opacity-80" data-quick-actions="desktop">
            <a href="#" data-action="submit-new-request" data-role-visibility="Requester,Admin"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover-lite">
              <span class="text-green-500"><i class="fas fa-plus-circle"></i></span>
              <span>Submit New Request</span>
            </a>
            <a href="#" data-action="register-new-user" data-admin-only
              class="hidden flex items-center gap-3 px-3 py-2 rounded-lg hover-lite">
              <span class="text-blue-500"><i class="fas fa-user-plus"></i></span>
              <span>Register New User</span>
            </a>
            <a href="#" data-action="openReportModal" class="flex items-center gap-3 px-3 py-2 rounded-lg hover-lite">
              <span class="text-purple-500"><i class="fas fa-download"></i></span>
              <span>Download Reports</span>
            </a>
          </div>
        </div>
      </div>

      <div class="rounded-lg border border-[var(--button-border)] bg-[var(--bg-surface)]">
        <button type="button"
          class="accordion-toggle flex w-full items-center justify-between px-4 py-3 text-left text-primary font-semibold"
          data-target="desktop-account-section" aria-controls="desktop-account-section" aria-expanded="false"
          data-accordion-group="desktop">
          <span>Account</span>
          <span
            class="accordion-icon flex items-center justify-center transition-transform duration-300 text-primary opacity-60">
            <i class="fas fa-chevron-down"></i>
          </span>
        </button>

        <div id="desktop-account-section"
          class="accordion-content overflow-hidden transition-[max-height] duration-300 ease-in-out max-h-0">
          <div class="px-4 pb-4 pt-1 space-y-2 text-sm text-primary opacity-80">
            <a href="#" data-update-password-trigger class="flex items-center gap-3 px-3 py-2 rounded-lg hover-lite">
              <span class="text-yellow-500"><i class="fas fa-key"></i></span>
              <span>Update Password</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </aside>


  <div id="mobile-menu"
    class="md:hidden hidden fixed top-16 left-0 w-full max-h-[calc(100vh-64px)] overflow-y-auto bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-lg z-40">
    <div class="flex flex-col space-y-4 px-3 py-4">
      <div class="rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800">
        <button type="button"
          class="accordion-toggle flex w-full items-center justify-between px-4 py-3 text-left text-gray-800 dark:text-white font-semibold"
          data-target="mobile-personal-section" aria-controls="mobile-personal-section" aria-expanded="false"
          data-accordion-group="mobile">
          <span>Personal Information</span>
          <span
            class="accordion-icon flex items-center justify-center transition-transform duration-300 text-gray-500 dark:text-gray-300">
            <i class="fas fa-chevron-down"></i>
          </span>
        </button>
        <div id="mobile-personal-section"
          class="accordion-content overflow-hidden transition-[max-height] duration-300 ease-in-out max-h-0"></div>
      </div>

      <div class="rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800">
        <button type="button"
          class="accordion-toggle flex w-full items-center justify-between px-4 py-3 text-left text-gray-800 dark:text-white font-semibold"
          data-target="mobile-actions-section" aria-controls="mobile-actions-section" aria-expanded="false"
          data-accordion-group="mobile">
          <span>Quick Actions</span>
          <span
            class="accordion-icon flex items-center justify-center transition-transform duration-300 text-gray-500 dark:text-gray-300">
            <i class="fas fa-chevron-down"></i>
          </span>
        </button>

        <div id="mobile-actions-section"
          class="accordion-content overflow-hidden transition-[max-height] duration-300 ease-in-out max-h-0">
          <div class="px-3 py-2 space-y-2" data-quick-actions="mobile">
            <a href="#" data-action="submit-new-request" data-role-visibility="Requester,Admin"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover-lite">
              <span class="text-green-500"><i class="fas fa-plus-circle"></i></span>
              <span>Submit New Request</span>
            </a>
            <a href="#" data-action="register-new-user" data-admin-only
              class="hidden flex items-center gap-3 px-3 py-2 rounded-lg hover-lite">
              <span class="text-blue-500"><i class="fas fa-user-plus"></i></span>
              <span>Register New User</span>
            </a>
            <a href="#" data-action="openReportModal" class="flex items-center gap-3 px-3 py-2 rounded-lg hover-lite">
              <span class="text-purple-500"><i class="fas fa-download"></i></span>
              <span>Download Reports</span>
            </a>
          </div>
        </div>
      </div>

      <div class="rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800">
        <button type="button"
          class="accordion-toggle flex w-full items-center justify-between px-4 py-3 text-left text-gray-800 dark:text-white font-semibold"
          data-target="mobile-account-section" aria-controls="mobile-account-section" aria-expanded="false"
          data-accordion-group="mobile">
          <span>Account</span>
          <span
            class="accordion-icon flex items-center justify-center transition-transform duration-300 text-gray-500 dark:text-gray-300">
            <i class="fas fa-chevron-down"></i>
          </span>
        </button>

        <div id="mobile-account-section"
          class="accordion-content overflow-hidden transition-[max-height] duration-300 ease-in-out max-h-0"></div>
      </div>
    </div>
  </div>


  <main id="main-content" class="container mx-auto px-4 py-8 mt-10 transition-all duration-300" data-layout-wrapper>
    <div data-layout-slot class="h-full w-full"></div>
  </main>


  <div id="logout-confirm-modal" class="fixed inset-0 z-50 hidden" role="dialog" aria-modal="true"
    aria-labelledby="logout-modal-title">
    <div class="absolute inset-0 bg-[var(--overlay-bg)] backdrop-blur-sm" data-logout-overlay></div>
    <div
      class="relative mx-auto mt-32 w-[min(92vw,360px)] rounded-2xl bg-[var(--bg-surface)] shadow-2xl border border-[var(--input-border)] p-6 flex flex-col gap-4">
      <div class="flex items-start gap-3">
        <div
          class="flex h-12 w-12 items-center justify-center rounded-full bg-[color:rgba(239,68,68,0.10)] text-error-color">
          <i class="fas fa-sign-out-alt text-xl"></i>
        </div>

        <div class="flex-1 space-y-2">
          <h2 id="logout-modal-title" class="text-lg font-semibold text-primary">
            Sign out?
          </h2>
          <p class="text-sm text-primary opacity-80">
            You’re about to end this session. Any unsaved changes will be
            lost. Do you want to continue?
          </p>
          <p data-logout-status class="hidden text-sm text-error-color"></p>
        </div>
      </div>

      <div class="flex items-center justify-end gap-3">
        <button type="button" data-logout-cancel
          class="px-4 py-2 rounded-lg border border-[var(--button-border)] bg-transparent text-primary hover:bg-[var(--bg-surface)]/10 transition-colors">
          Stay Logged In
        </button>

        <button type="button" data-logout-confirm
          class="px-4 py-2 rounded-lg border border-[var(--danger-border)] bg-[var(--danger-bg)] hover:bg-[var(--danger-hover-bg)] text-button-text font-semibold transition-colors">
          Log Out
        </button>
      </div>
    </div>
  </div>


  <div id="publish-confirm-modal" class="fixed inset-0 z-50 hidden" role="dialog" aria-modal="true"
    aria-labelledby="publish-confirm-title">
    <div class="absolute inset-0 bg-[var(--overlay-bg)] backdrop-blur-sm"></div>
    <div
      class="relative mx-auto mt-32 w-[min(92vw,420px)] rounded-2xl bg-[var(--bg-surface)] shadow-2xl border border-[var(--input-border)] p-6">
      <div class="flex items-start gap-3">
        <div class="flex h-12 w-12 items-center justify-center rounded-full bg-amber-100 text-amber-600">
          <i class="fas fa-bullhorn text-xl"></i>
        </div>
        <div class="flex-1">
          <h2 id="publish-confirm-title" class="text-lg font-semibold text-primary">
            Confirm publish change
          </h2>
          <p id="publish-confirm-message" class="text-sm text-primary opacity-80 mt-2">
            Are you sure you want to publish/unpublish this announcement?
          </p>
        </div>
      </div>
      <div class="flex items-center justify-end gap-3 mt-4">
        <button id="publishCancelBtn"
          class="px-4 py-2 rounded-lg border border-[var(--button-border)] bg-transparent text-primary">
          Cancel
        </button>
        <button id="publishConfirmBtn"
          class="px-4 py-2 rounded-lg bg-[var(--button-bg)] text-button-text font-semibold">
          Confirm
        </button>
      </div>
    </div>
  </div>


  <div id="register-user-modal" class="fixed inset-0 z-[1003] hidden" role="dialog" aria-modal="true"
    aria-labelledby="register-user-title">
    <div class="absolute inset-0 bg-[var(--overlay-bg)] backdrop-blur-sm" data-register-overlay></div>
    <div
      class="relative mx-auto my-8 w-[min(92vw,600px)] max-h-[90vh] overflow-y-auto rounded-2xl bg-[var(--bg-surface)] shadow-2xl border border-[var(--input-border)]">

      <div
        class="sticky top-0 bg-gradient-to-r from-[#273172] to-[#3a449e] px-6 py-4 flex items-center justify-between border-b border-[var(--input-border)] z-10">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center">
            <i class="fas fa-user-plus text-xl text-white"></i>
          </div>
          <h2 id="register-user-title" class="text-xl font-bold text-white">
            Register New User
          </h2>
        </div>
        <button type="button" data-register-close class="text-white/80 hover:text-white transition-colors">
          <i class="fas fa-times text-xl"></i>
        </button>
      </div>


      <form id="registerUserForm" class="p-6 space-y-5">

        <div class="form-group">
          <label for="register_fullName" class="block text-sm font-semibold text-primary mb-2">
            <i class="fas fa-user text-[#273172] mr-2"></i>
            Full Name <span class="text-red-500">*</span>
          </label>
          <input type="text" id="register_fullName" name="fullName" required placeholder="Enter full name"
            class="w-full px-4 py-3 bg-[var(--input-bg)] border-2 border-[var(--input-border)] rounded-xl text-primary placeholder-gray-400 focus:border-[#273172] focus:outline-none focus:ring-2 focus:ring-[#273172]/20 transition-all duration-300" />
          <span class="error-message text-red-500 text-xs mt-1 hidden"></span>
        </div>


        <div class="form-group">
          <label for="register_email" class="block text-sm font-semibold text-primary mb-2">
            <i class="fas fa-envelope text-[#273172] mr-2"></i>
            Email Address <span class="text-red-500">*</span>
          </label>
          <input type="email" id="register_email" name="email" required placeholder="user@example.com"
            class="w-full px-4 py-3 bg-[var(--input-bg)] border-2 border-[var(--input-border)] rounded-xl text-primary placeholder-gray-400 focus:border-[#273172] focus:outline-none focus:ring-2 focus:ring-[#273172]/20 transition-all duration-300" />
          <span class="error-message text-red-500 text-xs mt-1 hidden"></span>
        </div>


        <div class="form-group">
          <label for="register_mobile" class="block text-sm font-semibold text-primary mb-2">
            <i class="fas fa-phone text-[#273172] mr-2"></i>
            Phone Number <span class="text-red-500">*</span>
          </label>
          <input type="tel" id="register_mobile" name="mobile" required placeholder="+974XXXXXXXX"
            class="w-full px-4 py-3 bg-[var(--input-bg)] border-2 border-[var(--input-border)] rounded-xl text-primary placeholder-gray-400 focus:border-[#273172] focus:outline-none focus:ring-2 focus:ring-[#273172]/20 transition-all duration-300" />
          <span class="error-message text-red-500 text-xs mt-1 hidden"></span>
        </div>


        <div class="form-group">
          <label for="register_company" class="block text-sm font-semibold text-primary mb-2">
            <i class="fas fa-building text-[#273172] mr-2"></i>
            Company
          </label>
          <input type="text" id="register_company" name="company" placeholder="Company name (optional)"
            class="w-full px-4 py-3 bg-[var(--input-bg)] border-2 border-[var(--input-border)] rounded-xl text-primary placeholder-gray-400 focus:border-[#273172] focus:outline-none focus:ring-2 focus:ring-[#273172]/20 transition-all duration-300" />
        </div>


        <div class="form-group">
          <label for="register_department" class="block text-sm font-semibold text-primary mb-2">
            <i class="fas fa-sitemap text-[#273172] mr-2"></i>
            Department
          </label>
          <input type="text" id="register_department" name="department" placeholder="Department (optional)"
            class="w-full px-4 py-3 bg-[var(--input-bg)] border-2 border-[var(--input-border)] rounded-xl text-primary placeholder-gray-400 focus:border-[#273172] focus:outline-none focus:ring-2 focus:ring-[#273172]/20 transition-all duration-300" />
        </div>


        <div class="form-group">
          <label for="register_designation" class="block text-sm font-semibold text-primary mb-2">
            <i class="fas fa-id-badge text-[#273172] mr-2"></i>
            Designation
          </label>
          <input type="text" id="register_designation" name="designation" placeholder="Job title (optional)"
            class="w-full px-4 py-3 bg-[var(--input-bg)] border-2 border-[var(--input-border)] rounded-xl text-primary placeholder-gray-400 focus:border-[#273172] focus:outline-none focus:ring-2 focus:ring-[#273172]/20 transition-all duration-300" />
        </div>


        <div class="form-group">
          <label for="register_role" class="block text-sm font-semibold text-primary mb-2">
            <i class="fas fa-user-tag text-[#273172] mr-2"></i>
            Role <span class="text-red-500">*</span>
          </label>
          <select id="register_role" name="role" required
            class="w-full px-4 py-3 bg-[var(--input-bg)] border-2 border-[var(--input-border)] rounded-xl text-[var(--text-primary)] focus:border-[#273172] focus:outline-none focus:ring-2 focus:ring-[#273172]/20 transition-all duration-300">
            <option value="">Select role</option>
            <option value="Requester">Requester</option>
            <option value="PreApprover">Pre-Approver</option>
            <option value="Approver">Approver</option>
            <option value="Admin">Admin</option>
          </select>
          <span class="error-message text-red-500 text-xs mt-1 hidden"></span>
        </div>


        <div class="form-group">
          <label for="register_password" class="block text-sm font-semibold text-[var(--text-primary)] mb-2">
            <i class="fas fa-lock text-[#273172] mr-2"></i>
            Password <span class="text-red-500">*</span>
          </label>
          <input type="password" id="register_password" name="password" required
            placeholder="Min 8 chars, uppercase, lowercase, number, special char"
            class="w-full px-4 py-3 bg-[var(--input-bg)] border-2 border-[var(--input-border)] rounded-xl text-[var(--text-primary)] placeholder-gray-400 focus:border-[#273172] focus:outline-none focus:ring-2 focus:ring-[#273172]/20 transition-all duration-300" />
          <span class="error-message text-red-500 text-xs mt-1 hidden"></span>
        </div>


        <div class="form-group">
          <label for="register_confirmPassword" class="block text-sm font-semibold text-[var(--text-primary)] mb-2">
            <i class="fas fa-lock text-[#273172] mr-2"></i>
            Confirm Password <span class="text-red-500">*</span>
          </label>
          <input type="password" id="register_confirmPassword" name="confirmPassword" required
            placeholder="Re-enter password"
            class="w-full px-4 py-3 bg-[var(--input-bg)] border-2 border-[var(--input-border)] rounded-xl text-[var(--text-primary)] placeholder-gray-400 focus:border-[#273172] focus:outline-none focus:ring-2 focus:ring-[#273172]/20 transition-all duration-300" />
          <span class="error-message text-red-500 text-xs mt-1 hidden"></span>
        </div>


        <div class="flex items-center justify-end gap-3 pt-4 border-t border-[var(--input-border)]">
          <button type="button" data-register-cancel
            class="px-6 py-3 rounded-lg border border-[var(--button-border)] bg-transparent text-[var(--text-primary)] hover:bg-[var(--bg-surface)]/10 transition-colors font-semibold">
            Cancel
          </button>
          <button type="submit" id="registerSubmitBtn"
            class="px-6 py-3 rounded-lg bg-gradient-to-r from-[#273172] to-[#3a449e] hover:shadow-lg text-white font-semibold transition-all duration-200 transform hover:scale-[1.02]">
            <i class="fas fa-user-plus mr-2"></i>
            Register User
          </button>
        </div>
      </form>
    </div>
  </div>


  <div id="idle-timeout-modal" class="fixed inset-0 z-50 hidden" role="dialog" aria-modal="true"
    aria-labelledby="idle-timeout-title">
    <div class="absolute inset-0 bg-[var(--overlay-bg)] backdrop-blur-sm" data-idle-overlay></div>
    <div
      class="relative mx-auto mt-32 w-[min(92vw,420px)] rounded-2xl bg-[var(--bg-surface)] shadow-2xl border border-[var(--input-border)] p-6 flex flex-col gap-4">
      <div class="flex items-start gap-3">
        <div
          class="flex h-12 w-12 items-center justify-center rounded-full bg-[color:rgba(39,49,114,0.10)] text-page-color">
          <i class="fas fa-hourglass-half text-xl"></i>
        </div>

        <div class="flex-1 space-y-2">
          <h2 id="idle-timeout-title" class="text-lg font-semibold text-primary">
            Session is about to expire
          </h2>
          <p class="text-sm text-primary opacity-80">
            For your security, your session will end soon due to inactivity.
            Do you want to continue your session?
          </p>
          <p class="text-sm text-primary opacity-80">
            Time remaining:
            <span data-idle-countdown class="font-semibold">120</span> seconds
          </p>
          <p data-idle-status class="hidden text-sm text-error-color"></p>
        </div>
      </div>

      <div class="flex items-center justify-end gap-3">
        <button type="button" data-idle-stay
          class="px-4 py-2 rounded-lg border border-[var(--button-border)] bg-[var(--button-bg)] hover:bg-[var(--button-hover-bg)] text-button-text font-semibold transition-colors">
          Continue Session
        </button>
        <button type="button" data-idle-logout
          class="px-4 py-2 rounded-lg border border-[var(--danger-border)] bg-[var(--danger-bg)] hover:bg-[var(--danger-hover-bg)] text-button-text font-semibold transition-colors">
          Log Out
        </button>
      </div>
    </div>
  </div>

  <div id="toastContainer" aria-live="polite" class="fixed z-50 flex flex-col gap-2 items-center pointer-events-none">
  </div>
  <div id="update-password-modal" class="fixed inset-0 z-[1000] hidden" role="dialog" aria-modal="true"
    aria-labelledby="update-password-title">
    <div class="absolute inset-0 bg-[var(--overlay-bg)] backdrop-blur-sm" data-update-password-overlay></div>
    <div
      class="relative mx-auto my-16 w-[min(92vw,520px)] rounded-2xl bg-[var(--bg-surface)] shadow-2xl border border-[var(--input-border)] p-6">
      <div class="flex items-start gap-3 mb-4">
        <div
          class="flex h-12 w-12 items-center justify-center rounded-full bg-[color:rgba(39,49,114,0.10)] text-page-color">
          <i class="fas fa-key text-xl"></i>
        </div>
        <div class="flex-1">
          <h2 id="update-password-title" class="text-lg font-semibold text-primary">
            Change Password
          </h2>
          <p class="text-sm text-primary opacity-70">
            Verify your current password, then choose a new one that meets the
            complexity policy.
          </p>
        </div>
        <button type="button" data-update-password-close class="text-primary hover:text-button-text">
          <i class="fas fa-times text-xl"></i>
        </button>
      </div>

      <form id="updatePasswordFormShared" class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-primary mb-2">Current Password</label>
          <input type="password" id="currentPasswordShared" autocomplete="current-password"
            class="w-full px-4 py-3 bg-[var(--input-bg)] border border-[var(--input-border)] rounded-lg text-primary focus:outline-none focus:ring-2 focus:ring-[var(--button-bg)]/50 focus:border-[var(--button-bg)] transition-all duration-200" />
          <p id="currentPasswordHintShared" class="mt-2 text-xs text-primary opacity-70">
            Enter your current password to continue.
          </p>
          <p id="currentPasswordErrorShared" class="mt-2 text-sm text-red-500 hidden">
            Current password is incorrect.
          </p>
        </div>

        <div id="newPasswordSectionShared" class="space-y-3 hidden">
          <div>
            <label class="block text-sm font-medium text-[var(--text-primary)] mb-2">New Password</label>
            <input type="password" id="newPasswordShared" autocomplete="new-password"
              class="w-full px-4 py-3 bg-[var(--input-bg)] border border-[var(--input-border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--button-bg)]/50 focus:border-[var(--button-bg)] transition-all duration-200" />
            <div class="mt-2">
              <div class="h-2 w-full rounded-full bg-[var(--input-border)]/40 overflow-hidden">
                <div id="passwordStrengthBarShared" class="h-full w-0 rounded-full transition-all duration-300"></div>
              </div>
              <div class="flex items-center justify-between mt-1 text-xs">
                <span id="passwordStrengthLabelShared" class="text-[var(--text-primary)]/70">Strength: —</span>
                <span class="text-[var(--text-primary)]/60">8+ chars, 1 upper, 1 lower, 1 digit, 1 symbol</span>
              </div>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-[var(--text-primary)] mb-2">Confirm New Password</label>
            <input type="password" id="confirmNewPasswordShared" autocomplete="new-password"
              class="w-full px-4 py-3 bg-[var(--input-bg)] border border-[var(--input-border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--button-bg)]/50 focus:border-[var(--button-bg)] transition-all duration-200" />
            <p id="confirmErrorShared" class="mt-2 text-sm text-red-500 hidden">
              Passwords do not match.
            </p>
          </div>
        </div>

        <div class="flex items-center justify-end gap-3 pt-2">
          <button type="button" data-update-password-cancel
            class="px-4 py-2 rounded-lg border border-[var(--button-border)] bg-transparent text-[var(--text-primary)] hover:bg-[var(--bg-surface)]/10 transition-colors">
            Cancel
          </button>
          <button id="updatePasswordSubmitShared" type="submit" disabled
            class="px-4 py-2 rounded-lg border border-[var(--button-border)] bg-[var(--button-bg)] text-[var(--button-text)] hover:opacity-90 font-semibold transition-colors">
            Update Password
          </button>
        </div>
      </form>
    </div>
  </div>

  <div id="permit-form-modal" class="fixed inset-0 z-[1000] hidden" role="dialog" aria-modal="true"
    aria-labelledby="permit-modal-title">
    <div class="absolute inset-0 bg-[var(--overlay-bg)] backdrop-blur-sm" data-permit-overlay></div>
    <div
      class="relative mx-auto my-8 w-[min(96vw,1000px)] max-h-[88vh] rounded-2xl shadow-2xl border flex flex-col permit-modal-panel">
      <div class="flex items-center justify-between px-6 py-4 border-b permit-modal-header">
        <h2 id="permit-modal-title" class="text-lg font-semibold">
          Submit New Request
        </h2>
        <button type="button" data-permit-close class="">
          <i class="fas fa-times text-xl"></i>
        </button>
      </div>
      <div class="px-6 py-4 overflow-y-auto" id="permit-modal-body">

        <form id="permitForm" method="POST" enctype="multipart/form-data" novalidate>
          <div class="space-y-6">
            <div>
              <h3 class="text-xl font-semibold">Permit Request</h3>
              <p class="text-sm">
                Fill in the details below to submit a new request.
              </p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 items-stretch">

              <section
                class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-sm p-6 space-y-4 h-full">
                <fieldset>
                  <legend>
                    <h3>Requester Details</h3>
                  </legend>
                  <div class="form-group">
                    <div class="md-input">
                      <input type="text" name="fullName" id="fullName" required placeholder=" " maxlength="50"
                        pattern="^[A-Za-z\s]{1,50}$" />
                      <label for="fullName">Name</label>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="md-input">
                      <input type="text" name="lastName" id="lastName" required placeholder=" " maxlength="50"
                        pattern="^[A-Za-z\s]{1,50}$" />
                      <label for="lastName">Last Name</label>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="md-input">
                      <input type="text" name="contactDetails" id="contactdetails" required placeholder=" "
                        pattern="^\+974\d{8}$" />
                      <label for="contactdetails">Mobile Number</label>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="md-input">
                      <input type="text" name="altContactDetails" id="altcontactdetails" placeholder=" "
                        pattern="^\+974\d{8}$" />
                      <label for="altcontactdetails">Alternate Mobile Number</label>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="md-input">
                      <input type="email" name="corpEmailId" id="corpemailid" required placeholder=" " />
                      <label for="corpemailid">Email Id</label>
                    </div>
                  </div>
                </fieldset>
              </section>


              <section
                class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-sm p-6 space-y-4 h-full">
                <fieldset>
                  <legend>
                    <h3>Work Details</h3>
                  </legend>

                  <div class="form-group">
                    <div class="md-input">
                      <label for="permitTitle">Permit Title</label>
                      <input type="text" name="permitTitle" id="permitTitle" placeholder=" " />
                    </div>
                  </div>


                  <div class="form-group">
                    <div class="md-input">
                      <label for="terminal">Terminal</label>
                      <select id="terminal" name="terminal">
                        <option value="" disabled selected>
                          Select the Terminal
                        </option>
                      </select>
                    </div>
                  </div>


                  <div id="facilityContainer" class="form-group hidden">
                    <div class="md-input">
                      <label for="facility">Facility</label>
                      <select id="facility" name="facility">
                        <option value="" disabled selected>
                          Select the Facility
                        </option>
                      </select>
                    </div>
                  </div>


                  <div id="specifyTerminalContainer" class="form-group hidden">
                    <div class="md-input">
                      <label for="specifyTerminal">Specify Terminal</label>
                      <input type="text" id="specifyTerminal" name="specifyTerminal" placeholder=" " />
                    </div>
                  </div>


                  <div id="specifyFacilityContainer" class="form-group hidden">
                    <div class="md-input">
                      <label for="specifyFacility">Specify Facility</label>
                      <input type="text" id="specifyFacility" name="specifyFacility" placeholder=" " />
                    </div>
                  </div>


                  <div class="form-group">
                    <div class="md-input">
                      <label for="impact">Impact on Operation</label>
                      <select id="impact" name="impact">
                        <option value="" disabled selected>
                          Will there be any impact on operations?
                        </option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                      </select>
                    </div>
                  </div>


                  <div id="levelOfImpactContainer" class="form-group hidden">
                    <div class="md-input">
                      <label for="levelOfImpact">Level of Impact</label>
                      <select id="levelOfImpact" name="levelOfImpact">
                        <option value="" disabled selected>
                          Select Level of Impact
                        </option>
                        <option value="Low">Low</option>
                        <option value="Medium">Medium</option>
                        <option value="High">High</option>
                        <option value="Critical">Critical</option>
                      </select>
                    </div>
                  </div>


                  <div id="equipmentType" class="form-group hidden">
                    <div class="md-input">
                      <label for="equipmentTypeInput">Type of Affected Equipment</label>
                      <select id="equipmentTypeInput" name="equipmentTypeInput">
                        <option value="" disabled selected>
                          Select Equipment Type
                        </option>
                      </select>
                    </div>
                  </div>


                  <div id="impactDetails" class="form-group hidden">
                    <div class="md-input">
                      <label for="impactDetailsInput">Affected Equipment Details</label>
                      <textarea id="impactDetailsInput" name="impactDetailsInput" placeholder=" "></textarea>
                    </div>
                  </div>


                  <div class="form-group">
                    <div class="md-input">
                      <label for="natureOfWork">Nature of Work</label>
                      <select id="natureOfWork" name="natureOfWork">
                        <option value="" disabled selected>
                          Select Nature of Work
                        </option>
                      </select>
                    </div>
                  </div>


                  <div class="form-group">
                    <div class="md-input">
                      <label for="workDescription">Work Description</label>
                      <textarea id="workDescription" name="workDescription" placeholder=" "></textarea>
                    </div>
                  </div>
                </fieldset>
              </section>


              <section
                class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-sm p-6 space-y-4 lg:col-span-2 h-full">
                <fieldset>
                  <legend>
                    <h3>Required Documents</h3>
                  </legend>

                  <div class="form-group">
                    <label>e-Permit Available?</label>
                    <input type="radio" id="ePermitYes" name="ePermit" value="Yes" />
                    Yes
                    <input type="radio" id="ePermitNo" name="ePermit" value="No" />
                    No
                    <div id="ePermitDetails" class="hidden">
                      <div class="md-input">
                        <input type="text" id="ePermitReason" name="ePermitReason" placeholder=" " />
                        <label for="ePermitReason">Reason for No e-Permit</label>
                      </div>
                    </div>
                  </div>

                  <div class="form-group">
                    <label>FMM Workorder Available?</label>
                    <input type="radio" id="fmmWorkorderYes" name="fmmWorkorder" value="Yes" />
                    Yes
                    <input type="radio" id="fmmWorkorderNo" name="fmmWorkorder" value="No" />
                    No
                    <div id="fmmwrkordr" class="hidden">
                      <div class="md-input">
                        <input type="text" id="noFmmWorkorder" name="noFmmWorkorder" placeholder=" " />
                        <label for="noFmmWorkorder">Reason for No FMM Workorder</label>
                      </div>
                    </div>
                  </div>

                  <div class="form-group">
                    <label>HSE Risk Assessment Available?</label>
                    <input type="radio" id="hseRiskYes" name="hseRisk" value="Yes" />
                    Yes
                    <input type="radio" id="hseRiskNo" name="hseRisk" value="No" />
                    No
                    <div id="hseassmnt" class="hidden">
                      <div class="md-input">
                        <input type="text" id="noHseRiskAssessmentReason" name="noHseRiskAssessmentReason"
                          placeholder=" " />
                        <label for="noHseRiskAssessmentReason">Reason for No HSE Risk Assessment</label>
                      </div>
                    </div>
                  </div>

                  <div class="form-group">
                    <label>Operations Risk Assessment Available?</label>
                    <input type="radio" id="opRiskYes" name="opRisk" value="Yes" />
                    Yes
                    <input type="radio" id="opRiskNo" name="opRisk" value="No" />
                    No
                    <div id="opsassmnt" class="hidden">
                      <div class="md-input">
                        <input type="text" id="noOpsRiskAssessmentReason" name="noOpsRiskAssessmentReason"
                          placeholder=" " />
                        <label for="noOpsRiskAssessmentReason">Reason for No Operations Risk Assessment</label>
                      </div>
                    </div>
                  </div>

                  <fieldset>
                    <legend id="fileUploadLegend" class="hidden">
                      File Upload
                    </legend>
                    <div id="fileUploadSection" class="hidden">
                      <div
                        class="form-group file-upload border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4">

                        <label for="fileUpload" class="upload-icon inline-flex items-center gap-2 cursor-pointer">
                          <i class="fas fa-folder-open text-[28px] mr-2"></i>
                          <span class="text-sm">Upload the files</span>
                        </label>


                        <input type="file" id="fileUpload" name="files" multiple hidden />


                        <p id="fileTypeMessage" class="upload-msg text-sm text-red-500 mt-2"></p>


                        <ul id="uploadedFiles" class="pl-5 text-sm mt-2 space-y-1"></ul>
                      </div>
                    </div>
                  </fieldset>
                </fieldset>
              </section>


              <section
                class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-sm p-6 space-y-4 lg:col-span-2 h-full">
                <fieldset>
                  <legend>
                    <h3>Date & Time</h3>
                  </legend>
                  <div class="form-group">
                    <div class="md-input">
                      <label for="startDateTime">Start Date & Time</label>
                      <input type="text" id="startDateTime" name="startDateTime" placeholder=" " readonly />
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="md-input">
                      <label for="endDateTime">End Date & Time</label>
                      <input type="text" id="endDateTime" name="endDateTime" placeholder=" " readonly />
                    </div>
                  </div>
                </fieldset>
              </section>


              <section
                class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-sm p-6 space-y-4 lg:col-span-2 h-full">
                <fieldset>
                  <legend>
                    <h3>Conditions</h3>
                  </legend>
                  <div class="space-y-2">
                    <p>I confirm that:</p>
                    <ul class="list-disc pl-6 space-y-1">
                      <li>
                        I have read this Permit to Work and fully understand
                        on which equipment I am permitted to work and the work
                        to be carried out.
                      </li>
                      <li>
                        No attempt will be made by me or anyone under my
                        charge to carry out any other work or work on other
                        equipment.
                      </li>
                      <li>
                        Should the requirements change, I will inform
                        voluntarily to the permit issuer to advise of any
                        changes necessary.
                      </li>
                      <li>
                        I agree to the working window and will ensure that all
                        staff and equipment vacate the area prior to this
                        time.
                      </li>
                      <li>
                        I have been made aware of the risks involved with
                        working on this equipment.
                      </li>
                    </ul>
                  </div>
                  <div class="form-group">
                    <input type="checkbox" id="confirmConditions" name="confirmConditions" />
                    <label for="confirmConditions">I have read and agree to the above conditions.</label>
                  </div>
                </fieldset>
              </section>
            </div>
          </div>
        </form>
      </div>
      <div class="flex items-center justify-end gap-3 px-6 py-4 border-t permit-modal-footer">
        <button type="button" data-permit-cancel
          class="px-4 py-2 rounded-lg border border-[var(--button-border)] bg-transparent text-[var(--text-primary)] hover:bg-[var(--bg-surface)]/10 transition-colors">
          Cancel
        </button>
        <button type="button" data-permit-submit
          class="px-4 py-2 rounded-lg border border-[var(--button-border)] bg-[var(--theme-submit-bg)] hover:bg-[var(--theme-submit-hover-bg)] text-[var(--theme-submit-text)] font-semibold transition-colors">
          Submit
        </button>
      </div>
    </div>
  </div>


  <div id="notification-detail-modal" class="fixed inset-0 z-[1001] hidden" role="dialog" aria-modal="true"
    aria-labelledby="notification-detail-title">
    <div class="absolute inset-0 bg-[var(--overlay-bg)] backdrop-blur-sm" data-notification-detail-overlay></div>
    <div
      class="relative mx-auto my-16 w-[min(92vw,600px)] rounded-2xl bg-white dark:bg-gray-800 shadow-2xl border border-gray-200 dark:border-gray-700 p-6">
      <div class="flex items-start gap-3 mb-4">
        <div id="notification-detail-icon"
          class="flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400">
          <i class="fas fa-info-circle text-xl"></i>
        </div>
        <div class="flex-1">
          <h2 id="notification-detail-title" class="text-lg font-semibold text-gray-800 dark:text-white">
            Notification Details
          </h2>
          <p id="notification-detail-time" class="text-xs text-gray-500 dark:text-gray-400 mt-1"></p>
        </div>
        <button type="button" data-notification-detail-close
          class="text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white">
          <i class="fas fa-times text-xl"></i>
        </button>
      </div>

      <div id="notification-detail-content" class="space-y-4">
        <div class="text-sm text-gray-700 dark:text-gray-300 leading-relaxed">
          <div id="notification-detail-message" class="space-y-2"></div>
        </div>

        <div id="notification-detail-metadata" class="pt-4 border-t border-gray-200 dark:border-gray-700">

        </div>
      </div>

      <div class="flex items-center justify-end gap-3 pt-4">
        <button type="button" data-notification-detail-close
          class="px-4 py-2 rounded-lg border border-[var(--button-border)] bg-transparent text-[var(--text-primary)] hover:bg-[var(--bg-surface)]/10 transition-colors">
          Close
        </button>
        <button id="notification-detail-action" type="button"
          class="hidden px-4 py-2 rounded-lg border border-[var(--button-border)] bg-[var(--button-bg)] hover:bg-[var(--button-hover-bg)] text-[var(--button-text)] font-semibold transition-colors">
          View Permit
        </button>
      </div>
    </div>
  </div>


  <div id="download-report-modal" class="fixed inset-0 z-[1002] hidden" role="dialog" aria-modal="true">
    <div class="absolute inset-0 bg-[var(--overlay-bg)] backdrop-blur-sm" data-report-overlay></div>
    <div
      class="relative mx-auto my-16 w-[min(92vw,400px)] rounded-2xl bg-[var(--bg-surface)] text-[var(--text-primary)] shadow-2xl border border-[var(--input-border)] p-6">
      <h2 class="text-lg font-semibold mb-4">Download Reports</h2>
      <form id="downloadReportForm" class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-1">Start Date</label>
          <input type="text" id="reportStartDate" name="startDate"
            class="w-full px-3 py-2 bg-[var(--input-bg)] border border-[var(--input-border)] rounded text-[var(--text-primary)]"
            readonly />
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">End Date</label>
          <input type="text" id="reportEndDate" name="endDate"
            class="w-full px-3 py-2 bg-[var(--input-bg)] border border-[var(--input-border)] rounded text-[var(--text-primary)]"
            readonly />
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">Format</label>
          <select id="reportFormat" name="format"
            class="w-full px-3 py-2 bg-[var(--input-bg)] border border-[var(--input-border)] rounded text-[var(--text-primary)]">
            <option value="xlsx">Excel (.xlsx)</option>
            <option value="csv">CSV (.csv)</option>
            <option value="pdf">PDF (.pdf)</option>
          </select>
        </div>
        <div class="flex justify-end gap-2 pt-2">
          <button type="button" id="cancelReportDownload"
            class="px-4 py-2 rounded border border-[var(--button-border)] bg-transparent text-[var(--text-primary)]">
            Cancel
          </button>
          <button type="submit"
            class="px-4 py-2 rounded border bg-[var(--button-bg)] hover:bg-[var(--button-hover-bg)] text-[var(--button-text)] font-semibold">
            Download
          </button>
        </div>
      </form>
    </div>
  </div>


  <script src="../shared/toast.js" defer></script>

  <script src="https://cdn.jsdelivr.net/npm/flatpickr" defer></script>
  <script src="validators.js" defer></script>
  <script src="../shared/layout.js" defer></script>
</body>

</html>